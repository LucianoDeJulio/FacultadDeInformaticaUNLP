programa Adicional-7
procesos
  proceso juntarFlor(ES flores:numero)
  comenzar
    mientras(HayFlorEnLaEsquina)
      tomarFlor
      flores := flores + 1
  fin
 
  proceso juntarPapel(ES papel : numero)
  comenzar
    mientras(HayPapelEnLaEsquina)
      tomarPapel
      papel := papel + 1
  fin
 
  proceso depositarFlor1(ES flores : numero)
  comenzar
    si (HayFlorEnLaBolsa)
      depositarFlor
      flores := flores - 1
  fin
 
  proceso depositarPapel1(ES papel : numero)
  comenzar
    si(HayPapelEnLaBolsa)
      depositarPapel
      papel := papel - 1
  fin
 
  proceso izquierda
  comenzar
    repetir 3
      derecha
  fin
  
  {EQUIPO 1}
 
  proceso recorridoJuntar1(ES flores : numero; ES papel : numero)
  comenzar
    repetir 3
      mover
      juntarFlor(flores)
      juntarPapel(papel)
    BloquearEsquina(5,5)
    mover
    juntarFlor(flores)
    juntarPapel(papel)
    izquierda
    mover
    LiberarEsquina(5,5)
    repetir 3
      mover
      juntarFlor(flores)
      juntarPapel(papel)
  fin
 
  proceso recorridoDejar1(ES flores : numero; ES papel : numero)
  comenzar
    repetir 3
      depositarFlor1(flores)
      depositarPapel1(papel)
      mover
    BloquearEsquina(5,5)
    mover
    si(~HayFlorEnLaEsquina) 
      depositarFlor1(flores)
    si(~HayPapelEnLaEsquina)
      depositarPapel1(papel)
    derecha
    mover
    LiberarEsquina(5,5)
    repetir 3
      depositarFlor1(flores)
      depositarPapel1(papel)
      mover
  fin   
  
  {EQUIPO 2}
  
  proceso recorridoJuntar2(ES flores:numero; ES papeles:numero)
  comenzar 
    repetir 3
      juntarFlor(flores)
      juntarPapel(papeles)
      mover
    izquierda
    repetir 3
      juntarFlor(flores)
      juntarPapel(papeles)
      mover
  fin
  
  proceso recorridoDejar2(ES flores:numero; ES papeles:numero)
  comenzar
    repetir 4
      depositarFlor1(flores)
      depositarPapel1(papeles)
      mover
    derecha
    repetir 3
      depositarFlor1(flores)
      depositarPapel1(papeles)
      mover
  fin
      

    

      
   

areas
  area1 : AreaC(1,1,9,9)
  area2 : AreaC(13,3,17,7)

robots 
  robot tipo1
  variables
    equipo, flores, papel, avO, caO:numero
  comenzar
    equipo:=1
    avO := PosAv
    caO := PosCa
    flores := 0
    papel := 0
    derecha
    recorridoJuntar1(flores,papel)
    Informar(flores)
    Informar(papel)
    repetir 2
      derecha
    recorridoDejar1(flores,papel)
  fin  
  
  robot tipo2
  variables
    equipo, flores, papel, avO, caO : numero
  comenzar
    equipo:=1
    avO := PosAv
    caO := PosCa
    flores := 0
    papel := 0
    izquierda
    recorridoJuntar1(flores,papel)
    Informar(flores)
    Informar(papel)
    repetir 2
      derecha
    recorridoDejar1(flores,papel)
  fin
  
  robot tipo3
  variables
    equipo, flor, papel, avO, caO : numero
    ok:boolean
  comenzar
    ok:=V
    derecha
    juntarFlor(flor)
    juntarPapel(papel)
    mover
    EnviarMensaje(ok,r4)
    recorridoJuntar2(flor,papel)
    RecibirMensaje(ok,r4)
    mover
    juntarPapel(papel)
    juntarFlor(flor)
    Informar(flor)
    Informar(papel)
    repetir 2
      derecha
    recorridoDejar2(flor,papel)
    EnviarMensaje(ok,r4)
    RecibirMensaje(ok,r4)
    mover
    si(~HayPapelEnLaEsquina)
      depositarPapel1(papel)
    si(~HayFlorEnLaEsquina)
      depositarFlor1(flor)
  fin
  
  robot tipo4
  variables
    equipo, flor, papel, avO, caO : numero
    ok:boolean
  comenzar
    ok:=V
    izquierda
    juntarFlor(flor)
    juntarPapel(papel)
    mover
    EnviarMensaje(ok,r3)
    recorridoJuntar2(flor,papel)
    RecibirMensaje(ok,r3)
    mover
    juntarPapel(papel)
    juntarFlor(flor)
    Informar(flor)
    Informar(papel)
    repetir 2
      derecha
    recorridoDejar2(flor,papel)
    EnviarMensaje(ok,r3)
    RecibirMensaje(ok,r3)
    mover
    si(~HayPapelEnLaEsquina)
      depositarPapel1(papel)
    si(~HayFlorEnLaEsquina)
      depositarFlor1(flor)
  fin
      
variables 
  r1 : tipo1
  r2 : tipo2
  r3 : tipo3
  r4 : tipo4
comenzar 
  AsignarArea (r1, area1)
  AsignarArea (r2, area1)
  AsignarArea (r3, area2)
  AsignarArea (r4, area2)
  
  
  
  Iniciar(r1,1,5)
  Iniciar(r2,9,5)
  Iniciar(r3,13,3)
  Iniciar(r4,17,7)

fin


